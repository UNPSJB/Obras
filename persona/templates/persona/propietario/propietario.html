{% extends 'base.html' %}
{% load staticfiles %}
{% load crispy_forms_tags%}

{%block style %}
.loader {
    position: fixed;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    z-index: 9999;
    background: url('images/pageLoader.gif') 50% 50% no-repeat rgb(249,249,249);
    opacity: .8;
}
{%endblock%}

{%block barrapropietario%}
    <div class="container">
   <a href="#accesibilidad" class="btn btn-info btn-lg" style="color:black; font-weight:bolder;"data-toggle="collapse">Accesibilidad</a>
  <div id="accesibilidad" class="collapse">

            <div class="col-sm-2 ">
				<input alt="acercar" type=image src="/media/imagenes/zoom_in.ico" onclick="zoomIn()" style="width:35px; height:35px;"></input>
			</div>
			<div class=" col-sm-2 ">
				<input alt="alejar" type=image src="/media/imagenes/zoom_out.ico" style="width:35px; height:35px;" onclick="zoomOut()">
			</div>
            <div class=" col-sm-6">
            <br>
            <form action="propietario" method="post" enctype="multipart/form-data">
                <input type="hidden" name="Aceptar" value="Aceptar">
               <div class="controls ">
                   <select alt="seleccione un estilo de pagina" placeholder="seleccione estilo" class="select form-control input-sm " id="estilo" name="estilo"  onchange="this.form.submit();" required>
                       <option alt="selector de tema de alto contraste" value="" selected="">Elegir Modo</option>
                       <option alt="modo nocturno" value="estilo3">Modo Nocturno</option>
                       <option alt="tierra y rojo" value="estilo4">Alto Constraste 1</option>
                       <option alt="azul" value="estilo5">Contraste Azul</option>
                       <option alt="violeta y amarillo" value="estilo6">Contraste Violeta</option>
                       <option alt="verde" value="estilo7">Alto Constraste 2</option>
                       <option alt="por defecto" value="base">Por defecto</option>
                   </select>
               </div>
            </form>

        </div>





  </div>
</div>

{% endblock %}

{% block barra %}

<br>
    <ul class="sidebar sidebar-1">
        <li><a href="#" class="current"><label id="propietario">Propietario</label></a></li>
        <li><a data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour"><label id="i">Consultar estado de mis tramites</label></a></li>
        <li><a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseOne"><label id="k">Elegir forma de pago</label></a></li>
		<li><a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false"aria-controls="collapseThree"><label id="L">Realizar Pago de Tramite</label></a></li>
		<li><a data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false"aria-controls="collapseFive"><label id="P">Resumen de Pago de Tramite</label></a></li>
		<li><a data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false"aria-controls="collapseSix"><label id="R">Comprobantes de Pago del Tramite de Pago</label></a></li>


    </ul>
<br>
<br>
<br>
<br>
<br>
<br>
<div id="boton_ayuda" class="col-xs-4 col-sm-4 col-md-12 col-lg-12">
	<div class="dropdown" style="float:left;">
		<button class="btn btn-primary btn-md" type="button"  id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
			<span class="glyphicon glyphicon-list-alt" aria-hidden="true">    Ayuda    <br> <br/></span>
 			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu">
			<li><li><a target="_blank"  href="{% static "documentacion/_build/html/propietario.html" %}" target="_blank">Ayuda</a></li>
			<li role="separator" class="divider"></li>
			<li><a target="_blank" id="boton_ayuda1" href="{% static "documentacion/Manual.pdf" %}" target="_blank">Ayuda PDF</a></li>
		</ul>
	</div>
</div>

{% endblock %}

{% block contenido %}
<br>
    <div class="panel-group" id="#accordion" role="tablist" aria-multiselectable="true">
        <div class="panel panel-custom">
            <div class="panel-heading panel-heading-custom box" role="tab" id="headingFour">
                <a class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        <label id="a">Consultar estado de mis Tramites</label>
                    </a>
                </a>
            </div>
            <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div id="columna" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                {% block contenido_tramite_estado %}
                                    {% include "persona/propietario/consultar_estado_tramite_propietario.html" with tramites_de_propietario=ctxtramitespropietario %}
                                {% endblock %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
		<div class="panel panel-custom">
            <div class="panel-heading panel-heading-custom box" role="tab" id="headingTwo">
                <a class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        <label id="g">Elegir forma de pago</label>
                    </a>
                </a>
            </div>
	    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div id="columna2" class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="pagos">

								{% block tramites_para_financiar_propietario %}
									{% include "persona/propietario/tramites_para_financiar_propietario.html" with tramites=ctxtramites_para_financiar_propietario.tramites %}
								{% endblock %}
						    </div>
					    </div>
				    </div>
			    </div>
		    </div>
		</div>
		<div class="panel panel-custom">
			<div class="panel-heading panel-heading-custom box" role="tab" id="headingThree">
                <a class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        <label id="g">Realizar Pago de Tramite</label>
                    </a>
                </a>
            </div>
			<div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div id="columna3" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

								{% block listado_tramites_a_pagar %}
									{% include "persona/propietario/listado_tramites_a_pagar_propietario.html" with tramites=ctxcuotas.tramites %}
								{% endblock %}

						</div>
						</div>
					</div>
			  	</div>
			  </div>
			</div>

		<div class="panel panel-custom">
			<div class="panel-heading panel-heading-custom box" role="tab" id="headingFive">
                <a class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                        <label id="g">Resumen de Pago de Tramite</label>
                    </a>
                </a>
            </div>
			<div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div id="columna4" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

								{% block listado_tramites_propietario %}
									{% include "persona/propietario/listado_tramites_propietario.html" with tramites=ctxlistado.tramites %}
								{% endblock %}

						</div>
						</div>
					</div>
			  	</div>
			  </div>
			</div>
		<div class="panel panel-custom">
			<div class="panel-heading panel-heading-custom box" role="tab" id="headingSix">
                <a class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                        <label id="g">Comprobantes de Pago del Tramite</label>
                    </a>
                </a>
            </div>
			<div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div id="columna5" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

								{% block listado_tramites_comprobantes_propietario %}
									{% include "persona/propietario/listado_tramites_comprobantes.html" with tramites=ctxlistado.tramites %}
								{% endblock %}

						</div>
						</div>
					</div>
			  	</div>
			  </div>
			</div>

		</div>


    </div>

    </div>
{% endblock %}



{% block scripts %}

<script type="text/javascript">
$(document).ready(function() {


return new Promise( function( resolve, reject ) {
 var font=0;
     if (Cookies.get("fs")){
            font=Cookies.get("fs");
            document.body.style.fontSize = font + "em";
      }
if(Cookies.get("temporal")) {
		$("#estilo").attr("href",Cookies.get("temporal"));
		if (Cookies.get("fs")){
			font=Cookies.get("fs");
		    document.body.style.fontSize = font + "em";
		}
	}
	$("#nav li a").click(function() {
		$("#estilo").attr("href",$(this).attr('rel'));
		Cookies.set("temporal",$(this).attr('rel'), {expires: 365, path: '/'});
		return false;
	});
});
    });



</script>

<script>
        $("#perfil").fileinput({
            showCaption: false,
            browseClass: "btn btn-primary btn-sm",
            fileType: "any",
            maxFileCount: 1,
            browseLabel: 'Cargar nueva foto de perfil',
            showUpload: false,
            showRemove: false
        });
    </script>

    <script>
        $("#final").fileinput({
            showCaption: false,
            browseClass: "btn btn-primary btn-sm",
            fileType: "any",
            maxFileCount: 1,
            browseLabel: 'Cargar constancia de CACH',
            showUpload: false,
            showRemove: false
        });
    </script>
    <script>

        var fontSize = 1;
        // funcion para aumentar la fuente
        function zoomIn() {
            fontSize += 0.1;
            document.body.style.fontSize = fontSize + "em";
            Cookies.set("fs",fontSize, {expires: 365, path: '/'});
        }
        // funcion para disminuir la fuente
        function zoomOut() {
            fontSize -= 0.1;
            document.body.style.fontSize = fontSize + "em";
            Cookies.set("fs",fontSize, {expires: 365, path: '/'});

        }
    </script>


<script type="text/javascript">
  $(function() {
   $('input').filter('.datepicker').datepicker({
    changeMonth: true,
    changeYear: true,
    showOn: 'button',
    buttonImage:'/media/imagenes/icon-calendar.png',
    buttonImageOnly: true,
    minDate:0,
    maxDate: new Date(2020, 12, 30),
    // Formato de la fecha
    dateFormat: "dd/mm/yy",
    // Primer dia de la semana El lunes
    firstDay: 1,
    // Dias Largo en castellano
    dayNames: [ "Domingo", "Lunes", "Martes", "Miercoles", "Jueves", "Viernes", "Sabado" ],
    // Dias cortos en castellano
    dayNamesMin: [ "Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sa" ],
    // Nombres largos de los meses en castellano
    monthNames: [ "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre" ],
    // Nombres de los meses en formato corto
    monthNamesShort: [ "Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dec" ],
    // Cuando seleccionamos la fecha esta se pone en el campo Input
    onSelect: function(dateText) {
          $('#fecha').val(dateText);
      }
   });
  });
 </script>
{% endblock %}
